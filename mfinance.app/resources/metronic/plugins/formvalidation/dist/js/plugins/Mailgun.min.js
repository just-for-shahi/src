!function(e,n){typeof exports==='object'&&typeof module!=='undefined'?module.exports=n():typeof define==='function'&&define.amd?define(n):(e=e||self, (e.FormValidation=e.FormValidation||{}, e.FormValidation.plugins=e.FormValidation.plugins||{}, e.FormValidation.plugins.Mailgun=n()))}(this,(function(){"use strict";function e(e,n){if(!(e instanceof n)){throw new TypeError("Cannot call a class as a function")}}function n(e,n){for(var i=0;i<n.length;i++){var t=n[i];t.enumerable=t.enumerable||!1;t.configurable=!0;"value" in t&&(t.writable=!0);Object.defineProperty(e,t.key,t)}}function i(e,i,t){i&&n(e.prototype,i);t&&n(e,t);return e}function t(e,n){if(typeof n!=="function"&&n!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}});n&&a(e,n)}function o(e){o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return o(e)}function a(e,n){a=Object.setPrototypeOf||function(e,n){e.__proto__=n;return e};return a(e,n)}function s(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function l(e,n){if(n&&(typeof n==="object"||typeof n==="function")){return n}return s(e)}var r=FormValidation.Plugin,u=FormValidation.plugins.Alias,d=function(n){t(a,n);function a(n){var i;e(this,a);i=l(this,o(a).call(this,n));i.opts=Object.assign({},{suggestion:!1},n);i.messageDisplayedHandler=i.onMessageDisplayed.bind(s(i));return i}i(a,[{key:"install",value:function(){this.opts.suggestion&&this.core.on('plugins.message.displayed',this.messageDisplayedHandler);var e={mailgun:'remote'};this.core.registerPlugin('___mailgunAlias',new u(e)).addField(this.opts.field,{validators:{mailgun:{crossDomain:!0,data:{api_key:this.opts.apiKey},headers:{'Content-Type':'application/json'},message:this.opts.message,name:'address',url:'https://api.mailgun.net/v3/address/validate',validKey:'is_valid'}}})}},{key:"uninstall",value:function(){this.opts.suggestion&&this.core.off('plugins.message.displayed',this.messageDisplayedHandler);this.core.removeField(this.opts.field)}},{key:"onMessageDisplayed",value:function(e){e.field===this.opts.field&&'mailgun'===e.validator&&e.meta&&e.meta.did_you_mean&&(e.messageElement.innerHTML="Did you mean ".concat(e.meta.did_you_mean,"?"))}}]);return a}(r);return d}))